package grin;

import java.nio.ByteBuffer;
import java.util.ArrayList;
import zede.util.Hex;

/**
 *
 * https://github.com/mimblewimble/docs/wiki/Block-Header
 *
 *
 * test samples something like ../sampleblock/1869.blk
 *
 * more blocks: https://grinscan.net/block/1869
 *
 * it has only 1 output which is spent in block3318.
 *
 *
 * https://grin.blockscan.com https://www.grinmint.com/explorer/
 * https://grinexplorer.net
 *
 * 
 * 
 * 
 *
 * to parse grin block
 */
public class Block {

    BlockHeader header = new BlockHeader();
    byte[] hash; //of the block
    long height;

    ByteBuffer write(ByteBuffer bb) {
        header.write(bb);
//TODO: block body        
        System.out.println("block body is not written yet");
        return bb;
    }

    /*
    this chuck 2800/2=1400 bytes
         length 0x1a82=6786          1400-11 +1400+1400+1400+2394/2=6786
613d0b0000000000001a82000200000000000442cd000000005d3eb04a00000871b41035f2f4074256ffe39e1d35963fc9281f70d90ede623efe2a8afb4146344ec07cdb1692f459343f369b718f30fc252824f1f5e013b599bcf5d535bea6352c978e79ba6a9dd4b6dc513ffb336d0af2f25666f8342150c77bb4e161e55abff09b7f093b73305b4d5fe7b33c12b43b9de684ba40dbfd96f3c61aca4901b67f102f14fc456eb64412972625a042da2a8a30e71e4dbb7cca16ad1f91c8d6564be49bcfa77d5dd6a57dc1e1fdfcc9af329600bb2c668887adf1425b78d9000000000031308c000000000019c7a90002e50ddf9d91050000029bd90d0c21dc03ba731dd47880a03f751bf4763d8656026221e4023e421bfa8827b52909e824264022204518cda558ff6617cb4538d36b6b72ca1d778e08f2484abbb466e19728aeaa75c71d87203947cd6c476c2cf0cedc6fa0911ca02c82489b0bef36f4051b89024d09d24555e41a4de35f9582072c3f9ad175ae2bbc0a7d1e786de91fdbc5266407b6f4fc958aa62de53735a00eb3be3324ebdbbcd6dd4889eb03000000000000000500000000000000080000000000000004010908a0755b27d0a7456c8dbd17ddd90a7e8ff6afedac083c87cac0de477fa5fcfd0108b7f6e072a6a3bb5aac6061fc4e1d369f3a4ea1542701e50f43fc41f8563b9dbe010800b19c0d1522b962e3f00851cff839b07fa5c61df421a56356e7a55774842a8001091132569a4897d1906528fb808e71a2996c9374eb4f8f4af7d261f11ea1bcd697000903ad24b2ee3f50fff4ecd0d3a0880f2cb7945804ab56fcffc23f920c6898177e000899d190f0aa277a46cfdfd1ad2f94953eb0c5ff46f9548c518194707830ad52af00000000000002a37747bd3119732153f90ea0eba962eef7fcc84992bda139f862a81f30fb238b86c79d0b844042c134887e9a08199d6873f1ed0b7de64d38ba783b40c096d514570cc3325cda41573e0e68aef5139bb9452a83cb0cd27412eebdfa4d9ead592e152698e7f6bdaf7a7ddb223205ec67b78018531b36b3a1b57cd97bb24ed8a9295df22dbf2ab91127410b2e631f38b815d2c31418f7bcbc7e77d4353a75d61364e0402a99cbdde38d8e97e9140807c4725494baef922ad92ebd48b88646b00ef303f0d02625dd9c4fd20aa16186b06c04cec13492f11889ee326227ee896e0082d84c1a113195cc3a6434d95d941cbc058fcabb18476ad57db968892be37beacd1aeea12a28882f81f6a2aa4e0ecc0eee1a6caad539171fe1d16fcda3d15c8a18a02b5b84b8dcf23ce57acdca6548ab953e1dc56bd7595f1cda9518bd01895f74b96ab1d90c273d1adda7a719771194d3b990b29d691d1ff1a19f9f8f5f1b6e5a0f405900a2bcabfea9950ed6f61f651451c3ba48f7c1ff8eaf18162b897c84d386d908e5e78beb4bac5ee5ff744689ea9c1d480df549a398434802f01b6380276b93e0cd296b37e3e9be7434c84ab5a18027b9de14ae172f29a730b868435a34ae9f9e82a60da0172572c6f6c20ac0322ea3c2f7f0a29cf0dc680ab0efc5cc298f5566c501d87661f9079d4d60ec9fe32393e41a6e0ed5d81a44aaa1f06302c409dc2c69b4897dc1d9550645a284e032dd5ed10e728ba87018e2a0008fa06e319543e6daf6cfb16af4199d5243241d23fb3b684624a2523493c580697eb6bdc1c663cd5ede6d0c8b81b767e9c65b39be76d619c705b37422d6056b40b5edc7cee8837cf308a8a5fffcd04257179c90bb9838211978c4ed1a10f444906d14ee8a38ba4b737d0646498ac58a822266ee8b0727098be69577d4690e05f79d5287e1372cfc21000963513a9af4310b5bca44f745a6ff7013c2b19ca48c601a7f0e69a8e70f2711fb00000000000002a36cb3e4cc26956c51e0b5777c320d00b72dce8d8ea6f4c83398bfd30e9b3de803c3185f79    
6094a4f57fc1799207a915922a7f42f8b95aa423eb9847c695b13c5b0df3316acf7c59777996dbfb4b0f95dcd839e5011e3dfab43d3ea49f1107b3cfb02a04eaff16334b4aa127e0d3ef5b03a4ac7d0940c3a386d8ff0455c1baa5abb68076b457aa7afbbeaa56f30a7248815411b5e28220220b5fa377b6546142cc02d92b28a8bd917049f172388f602684935dbe75e6356732d70be909c7108fcc3ad6b300b88b51a020b4dfb2f95018f10ffad6067025433a1305204fa0124b29c82401240ad134cd4d97454aa33c7785774d237447b3f3d8af1fa5dfca45361cb0da25c9ad45a5070c980671ac4c7d887166e047564d10c01cc3f8c9c43861fb1ffa5de99954608bac1d3d885febecbfc1dfffcf035548c9cff02f8e748b43e5f3bd49ca18d27acb1f64990a2c06e043506345ed14cef0e58e0ca0b692a6126aa6f2032bc92e7eb689fac279d5e243b9227dfeeab20b6c531c3fb1c5a3fa88cd2725ab99b95730701f7464b75d88b5e53bf732203d5dc7aeca729c499b535afa87ff023fdef7e8f851143aae86a8a39881748268b0e403d0941ffdfb6df9f0cd500842d577298a0b0dbd9820790e01e048b2d4b357eb0a5d6b021e6d94c17ca3b1411f833eba48909bffa68a4a5586f359b6de166ae924d5ade1f3a4afd0c95afcd8d0a167f52cf83348a91b306f04c9dea67d9561ebf49d99c925749bf80e9dca4e33ac23c84dea4fa18a92ba4f71ac67333b2d729d47d6344cc62ce304aafe7052b61331fb100213399f1e670b875ea97bfa8f0f4eb4be67c72671f130c8c9dfd00c055b877ce7fb381c4f87f9753ce4d104d86f650b55bf0a479f9bbdc77fc84ecb8a7530031aa6fa4586ed7c5afe885e5e14a52509e9fcd5be745a3a16c43e954d00083a65285fce9d051c8c8160bce1baf541963ae510d4f6f07dff3716602be77c6500000000000002a376e7794d19105edcca8998fadeb3a314d297cc6eff9dd6e580ab4ed262e155b7ff2bb764bc2a3c854099d4bea399e67d5ee662b000a3b4f297168266c2379fdc047d2aec2b07ab0310f7013b8366355f34c028efc2f7595905740fbda52fc0be079ff54d014e82db7f0de8a99f276e583d94b6edbb6d76a1fd14f2efa3a55c8eee53529b71773f8f856fbe750d0294f969e3caba32222121513ac4c3f22e14288890734ca29a4b5ba79d4e381d5e3195f32def02f67205404bdda15902680159e60dce697aa4c34f83e239fcb63f8efa3a814b4c322cd4692a42306c36c3d6858b1bcab6abf81a49abb69d6f046cf58d4fb544becbf0146987bf6214f5c566c80926d1dd24db0b4cdc7dc3b4ebe99449048c3e440b560d06b3572a5444fa2411d44a917be87e90cf6a863ddf28f9cbf7cf02f4fe4f95442c4cf46d23dcf3528e618a7d805e16fe3ce7331e6b8592be71cea174fc427465e5927d3e98be0512f8b57a01a74c8f530783761fccfd0d7a8cfd8b2514168bfcb41c08a6002bc4442cba9225291280d545b55104c05ff768f6e190025176d6817d7277edcf1ebbfb6df4c14cd61a1c78a4f89c23ba1d9dbcaf26d01f54a6cdaaddd0b5e2061a4d2aa3788f2fe7321eae194bdd177dbf6883f513fa3631e14ca9be17075fbe36cccdfa5800dd9ff5e6c37f9f8cf8cce32503cb27c8c54f6231854949c96795d8ef46c661dcfb0d03996e6e5eb90ce01e2bee9da8d102a351420092db0af943512689741f647878600c4e96ec3e26d6118cdc56d52d16b377ba8a025f142f1ab0dd212f0f2f6c2b4e0327b2f5870801918d5704b04504f2595f398aea3ce1b6f1c1b9dd9115a8f5565c20878dcff284f33421f23f370ef375d58ebab7f2fbc762e7e83441de780042542cc90646d9c8ab3d4ddfa75ee6d2d56121017975845166a0761c9f6323000810bceb520f1d3e85ce3d4e28c74b9cb431556be8df842ba7dfe7624c4123473700000000000002a3edb8    
9f02fbb7acdd1eda23db29a43fd7e4f0ab70b5366e4c83ec307a5d30d66ffaa480cbad2d784cc88edfbfe6160708f1afdd1379c1546e92ca451766495da405aff6684c46a939c263adeb2a0079f6ae12d76576cffefc960f017b23ad399ac2ae8ba8151bc9bfe9c1aadc080dde54f48b335ef0ce5ba677852afb0786e9c2534f0ee2e60c1258afba7a13b04ef74e41adfc722e62bffdba996ebfaeccbce54d93faa04f5095c8255fc507d962876b3f098e1dec4410305262202e25ff4e419cc7f21e8ace0caee3dea3a95357a7968f8bdea129d9b84d0288fd60d1983303404bb74305717e1903f7fd1a1b05c412f11b547d26e4adae6a58db9fe268241d67228d6881e13560c538bab49ffa4b0b99d5d4620b45cf391e3a981c701e31de0e4b7b5d13d3bbe191e5f0230b7d29ddc65a8bd03dbfbffc1479aa00249ac615ac3fa249417aef95f37b28b44c35444215383fe20a0e241a9245977f452e6d5d7dd6033970a3382d90956c7de81a8973b7fd32857d743c0931125025d85c779e8f74d33690ea4f01e562c4c908d118ec3cea77ab19d259df4b3ef87bcedf9bdef7c06b6d29d4a2635c1bde75029ee00fd16d4c97a2d28c0ff4786a03da8b5336b745f2d9f20029f105590e20d084e4f7dd9008b0c674573172ba40eff43100d7e643d42a1de800b18f6ed21f3ca97ec6b7dff7bab8970e12e959ff3cc8e4fa6ac8bdbaa54b89c57888057f6285545171e3b33a525a774b77d5b4944aee1dd011d8475d257bae15fe550cb0e1d0158fca956ccfbb0dd9d8e2db597c5e6c5f3e7b13353de1ab0be42c24d0cfa170a81466d5cb0e1c59b5c482ea8788360ccc4bf0f788e3010507fb50bb9cae8b310d50fb4adb7dfac2cc73570a1f5f1cfb99c0037e40050f96c305e4f7e1d67517f057dfc654b3889744aad6e2f493e0d6dd8a10a789130008f62e5dc1290a7b1161ae77bc388e23b93f0e406b36dec6eba4c0c4cb3ff91c1200000000000002a35e21a9763bdbf9d67cd0f4df500bd9c85b233e6e885306294c26d8a84a1cb5542ea94c53df2ea28ac7fb2ca2d9dc211ae247400422b94439c3f4064e7b7710540834005c7f79cc59c876b8617c5f224f3cb667c24f87f95ea1fda42b8b684bf50358531cd2f674493f1538f531da9e0d655fb877e8359fbef1e59c31307b4e0fa52845ed4f34fb4c8138151d257796c11371282399386acc4af4e9dafa640a955e274a10d3f7f8af25152b6410e541db60861ca84a08d968946d7445ba9aaa6b5982d22978cbf26347a2e79ef9c1fd309fda772f548f22eb77bde7a0bd7e0f876d122e294df1190b0458066a6061246a9c9db337f94160d35ee48e737aa5f8c7c7ddfe90ad2ac4b61689fd14ba42f92feb71f720b3031e6f022370bfdefb5e187e724fdb0a4d4b8325b776cdc2870060b562ded0c2a706b1851fb009fcd1e1e2669e1e507602a1992b204a2e7d98e42fcf28a6259cca0f25e06172b7a971a6c0a5d4005cf6fdda1dc2bef1edb176cb6a2614c39052f88d143c2cb4c2552f6b2aeeb1d2ccbe22a61a1c3e3cd2559114da6efaec1ec1180aa5e76e3daa12bfe30aba119709d9ea451106479c59ffa29e2b4333cc0081d763b2ebe45d027e92ec454eaca1d2f0d3188c502535a1e037c81d73b94f541f878ac2fc78a82c5693ce0443f2205777f29eee34bf469989f0426c5ca222c3ed31808f97d6f9bb3d54654c2f4b96f69a4eaf5c2a63b9eee6654ab469c29fccfb193ae9d959c0372f9ad0eb018e8640737fa347faca9fb8912a522d3bd4eb7251fe46a0a31c098b38c00577b481a601e1af818708a3b806975e920647faaaf63db60d265a333f596d7f7580ec74666107b3a030bcf96c6e25675d11c7a29618ecb641db73d4730de5061be175089e2eff7679d0d42e4c66311011542dcfdba177a0c3756befb285f8a40b11808f1b00082b7f0b3cc9c7ae2b    
c13f148b56f055eab65ad1e77b3a92a86ce044dbacc3dadb00000000000002a34d853c89b065d7a9521ea3f6f7ee6df8ee8f80907c497923feb79ce470eaa0ddf395b198b9f813331ae17b63c6b5f4bbf2e77e4926feb32e5baec919a4c0f9c100139d668038d564030804f1d78e33a6919be0a5f17909f3f9ce4dd670008f1ef1f03c5752c90f2ca351d0158e8dc99ebfd99ff5636a5b5bc8a7e8a4d8d01bf173a9005812c73d9c6d1e1acdc04b93b01d818d459e82a218241d89a63705d0f31db87a55a044ad7990aee972aa30d73d65b09cefe1c7244cc11d4c90317d9b0843aeeffe61337daaff8a951eac7bdebb057f1ee2edcc666603a2471df1ef99de416a8a05d7be373a9dce8f5275e0dcfdc4a29c010cbcbe14ce70c19c431ab70e849ec7d8d6e981364c3a85ec03584fb6b53fbd99967e9aa7a653945d5c6e80d3f64aa01a309f0cdfe20478f9312af883db906451979bcf60a088d12878df974233a3a4ecc1340a694d96f8ac4bf48a78a63d3bac91be0ce82ada0926ea1deec30cfe021cb88ff54e94d80dea6c78c6d93244aacd06a7e379d7cd7834c6e7c9931a7f8a114a9dd11c011a3466133affae8528a873eb06cbb2f40ec4afba9614af355ff0354e27db08855f7579396ca967f05a199fdd9f166ae0e4418c05ba9a8eb3916252636e0a94c6535dc11df8de7eef49a42123005999a0625587286c34330e7016110e9456fd7aa6648acfa20cbb1979094ccdac503c9e6e843a55efd358827c67e48fe6863dea077b73d2c4bb9d3ee4949c59ea0abf4c53805e17d682c99d6a47a886e385e049250325ccd78d778d19e042672370b06569437d64cb358db8b4467aeee28b11944eaf85bd49a9ff8847f107f6f0aa77852c514ed6b43e6a557b596564a62aceb65617b39fc91cc3fd19d7137286a5328c1aca7033ddee8906170bf8d58270b375285a00f187afee934dae7528edf6bcc68f91decd67f8aca7dcaf0109acde071954c0c1ae297d3c9f401c4fdcee6c2849d1c261ac5661c7a76e785d3d00000000000002a3514edebb47bf86df459e702d26ac5474b68c542fe0fe5846c6b8ca17ee7e50e90e7f8d4b3d550f642b5025eb42fef20b443e42972bc49f68be1551987da8ddd30c54c1002a4af25bceb365e5fb804ab619e351cc402b49f3fda198ec9371bf4587cb6f33e439573e23684a4379edd1f4e1404a650321e568aea0b9d2afa2ea91e02e749042e7e433c06d847e9ba93452ef6421b9a3afcfe147f3f7e307674db1e8bd536b816cd29ddd0ab498832c4f4c9e60d90dc15d86605aa1204febc54efee19c48b5397922f9cd63e61bcd2290fb9ddf8c06b8ed4b3fe99bf84f5a940e5f0ede760d295de88930abbef42db0c3aa492219f71345ac8d752c802bdf0975ecd3c7481f00d38d59c5f95f0ec417eaa7a658f8a12a5ace7d873e10a31d7d3455273081171c33ad28eaad097ddc439748346a231b4ed74622b927922f005b886c6e8bae1ebe71c3fc93f67a77f18c99e28a26d04c937d6e900f4387d841a2214bdfef010a0b7b19bb52169ccd5908f717fddb32ba88ad421ce2e8a342b30996da13f3b617466880b99d65d61c6b1e9ef08abc7dcf7607be712bdfd49cc66b5a8f34cdb457371167e9274d320beb9f810b02852b6d35d4b3b3dd02d1e5dc9bea96fb68112fafc25ec97336238ea8f63d7dae89d3bfb0c813295bcf8877061fa70482b026b2ae90526a42b1e351bbe8600ed878c49377730711fd236e9ab15e87c5554ac008a8005a9e6373ca894a76d5c3c16ef4a5a93ad6067acc3904c3e623e6c363ce8235af015a4928fad680d966b4086cc3fc9def34e53a55918a1baa3624982cee47a0f5218a2caeea452c325d96b46f146352e6e42c2738905f151fd838429536cfc8f600600558a736e5d6b284845d3bc1d92213e192061cbe0ae9c288f2d823032dbd86b60542bc    
dd1bf5817b859024e089efdfdf7c30dd70aef87feb3551ff000991c829917c7bdb965677f3103b5ddd2b697e1b8479d683186e58db7fad02a45d00000000000002a3dae4be778720888039898879bccd1886bfa013829e8746082ffd1d3abfb1265bc1ebe594c423e0f0e108488b9dc56c67301dc28284f0fa89508e0f988df88e05080e277b39c78e2403c5bad8ced36bf4cdbed94cf65af451e7d294d36e545bd02be207c34d4c2dcc3c29220e916a4f477aacf4404a2bd66fed031496e15120c27ed0c0fcabb459af32f5e3506f336d3bcb8a791bb7b84db20a860c73a7a8345e5b89060efff48c2d2516c4517fdc3af0aea8052dba53dcafdd451917f643e65bb90f81ef22065c0f82d9fb799ccf15f43816ae4f444c17fe32aa71c37ed978b702565bf7697dfefc36d6787bd8c36534e1a1fcf844900fdb5a684c4178fd7c69dd06df7457758f43168b7e7b6954b1a9194012cdb0a5fec5954ff0dc9af9c9175bbf91bf1e2bc61e8d57d4ef90fed4a31a7fbcb8af26ec185d821c20cc1c551f6338d90008cf4afcb505f8b1447dfb67bb832f10a707c37d2ea1d157970d6bec4bb803da4b2827bdb52bc557a0e04e8c432d433c89df48dc96f1e9e2b9a2531f886a6702de95e12f729912d5d81293b45c7d8c3dac66205536e890dbaafc029fb691c22c9024938ee11df095db4fe6974e53776d769be880d506cb0b6d41d8133454d4d55b04d688ecd3f33813253811222de0f035f01bae5f2cb7bc436df5470e4c4b03abbf2ba49cb14a5eddcffb33d4556cfe7636dee7d74db88f4d72e3bf4aa5fe0afcb397487a2c25f6e898aa4d9a9e7a9a5172e6f2b265d633b2a8c437e105d7ee1c85674f01657500366e220f446d413576f3d7f452a6673af7927632e043b90cd3e30be3f0ba712d7183d8837247090df2b2b5827dc6f7d697710ae29f19c9bf24a535841d5872f15f07b40389fe78551a578540507532074e2b98bb6b9e9aa609a36c255e0c96a52a11a540f4c59fe21ac4df1571709416c483e0e98e73460000000000006acfc000000000000000000807486417657d0716caa5f129a63aa760a37dce912ef3859b8154381fcdbb52d20834e2133c5bbc515aebc890f85361e313d13f42c05582fe6bbf927b5fe61536b797de27b4fa533a15e73d4ed4140030ae8c305e4a05b4db60545dc453ec9064010000000000000000000000000000000009f314c2bb07f864ae70ee69868f81c35f682222aaac372dade483f9c6abe0e9bcfee97e4b0bc531259a8bc27ef4749d162afb2e1e6d8cb2d876af4ce93c34963cb71d70b026a8a1359985c5e98fe6f625d53af36590fcd4f5964a39d3a993ee45000000000000b71b000000000000000000092616f3f923351cb1115eb2ae59a984a25e93184df23adfd7093182b072571b12cf7cfaffd5aaddaf7a2f4c4ee7993bcfc7dd355e0379e1e511cf3cf49a0d2844e61dcf065697432698a1d03998369148888591bf13bc2f3190543bfa734031b50000000000006acfc000000000000000000888a0c76791da6f2da9a72d1397a6b3f804f00639967e6d09715d7a351188c8408a9a325a9e40ebe7eba7464629bba3ca6d5bfa82c4d88bc7d4bb070abbff9b7189d3d24ce2f0b88604536bfb502e968fbee5f7de6482eb2a0144d5985319f130
   2394/2=1197    
     */
 /*
613d0b0000000000001a82                                              after this is block header
                      0002
                          00000000000442cd                          height
                                          000000005d3eb04a          timestamp
                                                          000008    prev blk hash
71b41035f2f4074256ffe39e1d35963fc9281f70d90ede623efe2a8afb414634
4ec07cdb1692f459343f369b718f30fc252824f1f5e013b599bcf5d535bea635
2c978e79ba6a9dd4b6dc513ffb336d0af2f25666f8342150c77bb4e161e55abf
f09b7f093b73305b4d5fe7b33c12b43b9de684ba40dbfd96f3c61aca4901b67f
102f14fc456eb64412972625a042da2a8a30e71e4dbb7cca16ad1f91c8d6564b    total kernel offset
e49bcfa77d5dd6a57dc1e1fdfcc9af329600bb2c668887adf1425b78d9
                                                          000000    size
000031308c
          000000000019c7a9                                          size
                          0002e50ddf9d9105                          difficulty
                                          0000029b
                                                  d90d0c21dc03ba
73
  1d                                                                cuckoo size:29 so will be followed by 153 bytes
    d47880a03f751bf4763d8656026221e4023e421bfa8827b52909e8242640    -2+32+32*4-5=32*5-7=160-7=153
22204518cda558ff6617cb4538d36b6b72ca1d778e08f2484abbb466e19728ae
aa75c71d87203947cd6c476c2cf0cedc6fa0911ca02c82489b0bef36f4051b89
024d09d24555e41a4de35f9582072c3f9ad175ae2bbc0a7d1e786de91fdbc526
6407b6f4fc958aa62de53735a00eb3be3324ebdbbcd6dd4889eb03              the header is 400 bytes(if include magic..., 411 bytes)
                                                      0000000000    #input 5
    000005
          0000000000000008                                              #output 8
                          0000000000000004                              #kernel 4
                                          010908a0755b27d0a7456c8dbd    input #1
    17ddd90a7e8ff6afedac083c87cac0de477fa5fcfd
                                              0108b7f6e072a6a3bb5aac    input #2
    6061fc4e1d369f3a4ea1542701e50f43fc41f8563b9dbe
                                                  010800b19c0d1522b9    input #3
    62e3f00851cff839b07fa5c61df421a56356e7a55774842a80
                                                      01091132569a48    input #4
    97d1906528fb808e71a2996c9374eb4f8f4af7d261f11ea1bcd697
                                                          000903ad24    input #5
    b2ee3f50fff4ecd0d3a0880f2cb7945804ab56fcffc23f920c6898177e
          8 output: one per line. equal length 1439-5=1434 /2=717 bytes.
            1 byte for feature, 33 bytes for comittment, 683? bytes for range proof.
    000899d190f0aa277a46cfdfd1ad2f94953eb0c5ff46f9548c518194707830ad52af00000000000002a37747bd3119732153f90ea0eba962eef7fcc84992bda139f862a81f30fb238b86c79d0b844042c134887e9a08199d6873f1ed0b7de64d38ba783b40c096d514570cc3325cda41573e0e68aef5139bb9452a83cb0cd27412eebdfa4d9ead592e152698e7f6bdaf7a7ddb223205ec67b78018531b36b3a1b57cd97bb24ed8a9295df22dbf2ab91127410b2e631f38b815d2c31418f7bcbc7e77d4353a75d61364e0402a99cbdde38d8e97e9140807c4725494baef922ad92ebd48b88646b00ef303f0d02625dd9c4fd20aa16186b06c04cec13492f11889ee326227ee896e0082d84c1a113195cc3a6434d95d941cbc058fcabb18476ad57db968892be37beacd1aeea12a28882f81f6a2aa4e0ecc0eee1a6caad539171fe1d16fcda3d15c8a18a02b5b84b8dcf23ce57acdca6548ab953e1dc56bd7595f1cda9518bd01895f74b96ab1d90c273d1adda7a719771194d3b990b29d691d1ff1a19f9f8f5f1b6e5a0f405900a2bcabfea9950ed6f61f651451c3ba48f7c1ff8eaf18162b897c84d386d908e5e78beb4bac5ee5ff744689ea9c1d480df549a398434802f01b6380276b93e0cd296b37e3e9be7434c84ab5a18027b9de14ae172f29a730b868435a34ae9f9e82a60da0172572c6f6c20ac0322ea3c2f7f0a29cf0dc680ab0efc5cc298f5566c501d87661f9079d4d60ec9fe32393e41a6e0ed5d81a44aaa1f06302c409dc2c69b4897dc1d9550645a284e032dd5ed10e728ba87018e2a0008fa06e319543e6daf6cfb16af4199d5243241d23fb3b684624a2523493c580697eb6bdc1c663cd5ede6d0c8b81b767e9c65b39be76d619c705b37422d6056b40b5edc7cee8837cf308a8a5fffcd04257179c90bb9838211978c4ed1a10f444906d14ee8a38ba4b737d0646498ac58a822266ee8b0727098be69577d4690e05f79d5287e1372cfc21
    000963513a9af4310b5bca44f745a6ff7013c2b19ca48c601a7f0e69a8e70f2711fb00000000000002a36cb3e4cc26956c51e0b5777c320d00b72dce8d8ea6f4c83398bfd30e9b3de803c3185f796094a4f57fc1799207a915922a7f42f8b95aa423eb9847c695b13c5b0df3316acf7c59777996dbfb4b0f95dcd839e5011e3dfab43d3ea49f1107b3cfb02a04eaff16334b4aa127e0d3ef5b03a4ac7d0940c3a386d8ff0455c1baa5abb68076b457aa7afbbeaa56f30a7248815411b5e28220220b5fa377b6546142cc02d92b28a8bd917049f172388f602684935dbe75e6356732d70be909c7108fcc3ad6b300b88b51a020b4dfb2f95018f10ffad6067025433a1305204fa0124b29c82401240ad134cd4d97454aa33c7785774d237447b3f3d8af1fa5dfca45361cb0da25c9ad45a5070c980671ac4c7d887166e047564d10c01cc3f8c9c43861fb1ffa5de99954608bac1d3d885febecbfc1dfffcf035548c9cff02f8e748b43e5f3bd49ca18d27acb1f64990a2c06e043506345ed14cef0e58e0ca0b692a6126aa6f2032bc92e7eb689fac279d5e243b9227dfeeab20b6c531c3fb1c5a3fa88cd2725ab99b95730701f7464b75d88b5e53bf732203d5dc7aeca729c499b535afa87ff023fdef7e8f851143aae86a8a39881748268b0e403d0941ffdfb6df9f0cd500842d577298a0b0dbd9820790e01e048b2d4b357eb0a5d6b021e6d94c17ca3b1411f833eba48909bffa68a4a5586f359b6de166ae924d5ade1f3a4afd0c95afcd8d0a167f52cf83348a91b306f04c9dea67d9561ebf49d99c925749bf80e9dca4e33ac23c84dea4fa18a92ba4f71ac67333b2d729d47d6344cc62ce304aafe7052b61331fb100213399f1e670b875ea97bfa8f0f4eb4be67c72671f130c8c9dfd00c055b877ce7fb381c4f87f9753ce4d104d86f650b55bf0a479f9bbdc77fc84ecb8a7530031aa6fa4586ed7c5afe885e5e14a52509e9fcd5be745a3a16c43e954d
    00083a65285fce9d051c8c8160bce1baf541963ae510d4f6f07dff3716602be77c6500000000000002a376e7794d19105edcca8998fadeb3a314d297cc6eff9dd6e580ab4ed262e155b7ff2bb764bc2a3c854099d4bea399e67d5ee662b000a3b4f297168266c2379fdc047d2aec2b07ab0310f7013b8366355f34c028efc2f7595905740fbda52fc0be079ff54d014e82db7f0de8a99f276e583d94b6edbb6d76a1fd14f2efa3a55c8eee53529b71773f8f856fbe750d0294f969e3caba32222121513ac4c3f22e14288890734ca29a4b5ba79d4e381d5e3195f32def02f67205404bdda15902680159e60dce697aa4c34f83e239fcb63f8efa3a814b4c322cd4692a42306c36c3d6858b1bcab6abf81a49abb69d6f046cf58d4fb544becbf0146987bf6214f5c566c80926d1dd24db0b4cdc7dc3b4ebe99449048c3e440b560d06b3572a5444fa2411d44a917be87e90cf6a863ddf28f9cbf7cf02f4fe4f95442c4cf46d23dcf3528e618a7d805e16fe3ce7331e6b8592be71cea174fc427465e5927d3e98be0512f8b57a01a74c8f530783761fccfd0d7a8cfd8b2514168bfcb41c08a6002bc4442cba9225291280d545b55104c05ff768f6e190025176d6817d7277edcf1ebbfb6df4c14cd61a1c78a4f89c23ba1d9dbcaf26d01f54a6cdaaddd0b5e2061a4d2aa3788f2fe7321eae194bdd177dbf6883f513fa3631e14ca9be17075fbe36cccdfa5800dd9ff5e6c37f9f8cf8cce32503cb27c8c54f6231854949c96795d8ef46c661dcfb0d03996e6e5eb90ce01e2bee9da8d102a351420092db0af943512689741f647878600c4e96ec3e26d6118cdc56d52d16b377ba8a025f142f1ab0dd212f0f2f6c2b4e0327b2f5870801918d5704b04504f2595f398aea3ce1b6f1c1b9dd9115a8f5565c20878dcff284f33421f23f370ef375d58ebab7f2fbc762e7e83441de780042542cc90646d9c8ab3d4ddfa75ee6d2d56121017975845166a0761c9f6323
    000810bceb520f1d3e85ce3d4e28c74b9cb431556be8df842ba7dfe7624c4123473700000000000002a3edb89f02fbb7acdd1eda23db29a43fd7e4f0ab70b5366e4c83ec307a5d30d66ffaa480cbad2d784cc88edfbfe6160708f1afdd1379c1546e92ca451766495da405aff6684c46a939c263adeb2a0079f6ae12d76576cffefc960f017b23ad399ac2ae8ba8151bc9bfe9c1aadc080dde54f48b335ef0ce5ba677852afb0786e9c2534f0ee2e60c1258afba7a13b04ef74e41adfc722e62bffdba996ebfaeccbce54d93faa04f5095c8255fc507d962876b3f098e1dec4410305262202e25ff4e419cc7f21e8ace0caee3dea3a95357a7968f8bdea129d9b84d0288fd60d1983303404bb74305717e1903f7fd1a1b05c412f11b547d26e4adae6a58db9fe268241d67228d6881e13560c538bab49ffa4b0b99d5d4620b45cf391e3a981c701e31de0e4b7b5d13d3bbe191e5f0230b7d29ddc65a8bd03dbfbffc1479aa00249ac615ac3fa249417aef95f37b28b44c35444215383fe20a0e241a9245977f452e6d5d7dd6033970a3382d90956c7de81a8973b7fd32857d743c0931125025d85c779e8f74d33690ea4f01e562c4c908d118ec3cea77ab19d259df4b3ef87bcedf9bdef7c06b6d29d4a2635c1bde75029ee00fd16d4c97a2d28c0ff4786a03da8b5336b745f2d9f20029f105590e20d084e4f7dd9008b0c674573172ba40eff43100d7e643d42a1de800b18f6ed21f3ca97ec6b7dff7bab8970e12e959ff3cc8e4fa6ac8bdbaa54b89c57888057f6285545171e3b33a525a774b77d5b4944aee1dd011d8475d257bae15fe550cb0e1d0158fca956ccfbb0dd9d8e2db597c5e6c5f3e7b13353de1ab0be42c24d0cfa170a81466d5cb0e1c59b5c482ea8788360ccc4bf0f788e3010507fb50bb9cae8b310d50fb4adb7dfac2cc73570a1f5f1cfb99c0037e40050f96c305e4f7e1d67517f057dfc654b3889744aad6e2f493e0d6dd8a10a78913
    0008f62e5dc1290a7b1161ae77bc388e23b93f0e406b36dec6eba4c0c4cb3ff91c1200000000000002a35e21a9763bdbf9d67cd0f4df500bd9c85b233e6e885306294c26d8a84a1cb5542ea94c53df2ea28ac7fb2ca2d9dc211ae247400422b94439c3f4064e7b7710540834005c7f79cc59c876b8617c5f224f3cb667c24f87f95ea1fda42b8b684bf50358531cd2f674493f1538f531da9e0d655fb877e8359fbef1e59c31307b4e0fa52845ed4f34fb4c8138151d257796c11371282399386acc4af4e9dafa640a955e274a10d3f7f8af25152b6410e541db60861ca84a08d968946d7445ba9aaa6b5982d22978cbf26347a2e79ef9c1fd309fda772f548f22eb77bde7a0bd7e0f876d122e294df1190b0458066a6061246a9c9db337f94160d35ee48e737aa5f8c7c7ddfe90ad2ac4b61689fd14ba42f92feb71f720b3031e6f022370bfdefb5e187e724fdb0a4d4b8325b776cdc2870060b562ded0c2a706b1851fb009fcd1e1e2669e1e507602a1992b204a2e7d98e42fcf28a6259cca0f25e06172b7a971a6c0a5d4005cf6fdda1dc2bef1edb176cb6a2614c39052f88d143c2cb4c2552f6b2aeeb1d2ccbe22a61a1c3e3cd2559114da6efaec1ec1180aa5e76e3daa12bfe30aba119709d9ea451106479c59ffa29e2b4333cc0081d763b2ebe45d027e92ec454eaca1d2f0d3188c502535a1e037c81d73b94f541f878ac2fc78a82c5693ce0443f2205777f29eee34bf469989f0426c5ca222c3ed31808f97d6f9bb3d54654c2f4b96f69a4eaf5c2a63b9eee6654ab469c29fccfb193ae9d959c0372f9ad0eb018e8640737fa347faca9fb8912a522d3bd4eb7251fe46a0a31c098b38c00577b481a601e1af818708a3b806975e920647faaaf63db60d265a333f596d7f7580ec74666107b3a030bcf96c6e25675d11c7a29618ecb641db73d4730de5061be175089e2eff7679d0d42e4c66311011542dcfdba177a0c3756befb285f8a40b11808f1b
    00082b7f0b3cc9c7ae2bc13f148b56f055eab65ad1e77b3a92a86ce044dbacc3dadb00000000000002a34d853c89b065d7a9521ea3f6f7ee6df8ee8f80907c497923feb79ce470eaa0ddf395b198b9f813331ae17b63c6b5f4bbf2e77e4926feb32e5baec919a4c0f9c100139d668038d564030804f1d78e33a6919be0a5f17909f3f9ce4dd670008f1ef1f03c5752c90f2ca351d0158e8dc99ebfd99ff5636a5b5bc8a7e8a4d8d01bf173a9005812c73d9c6d1e1acdc04b93b01d818d459e82a218241d89a63705d0f31db87a55a044ad7990aee972aa30d73d65b09cefe1c7244cc11d4c90317d9b0843aeeffe61337daaff8a951eac7bdebb057f1ee2edcc666603a2471df1ef99de416a8a05d7be373a9dce8f5275e0dcfdc4a29c010cbcbe14ce70c19c431ab70e849ec7d8d6e981364c3a85ec03584fb6b53fbd99967e9aa7a653945d5c6e80d3f64aa01a309f0cdfe20478f9312af883db906451979bcf60a088d12878df974233a3a4ecc1340a694d96f8ac4bf48a78a63d3bac91be0ce82ada0926ea1deec30cfe021cb88ff54e94d80dea6c78c6d93244aacd06a7e379d7cd7834c6e7c9931a7f8a114a9dd11c011a3466133affae8528a873eb06cbb2f40ec4afba9614af355ff0354e27db08855f7579396ca967f05a199fdd9f166ae0e4418c05ba9a8eb3916252636e0a94c6535dc11df8de7eef49a42123005999a0625587286c34330e7016110e9456fd7aa6648acfa20cbb1979094ccdac503c9e6e843a55efd358827c67e48fe6863dea077b73d2c4bb9d3ee4949c59ea0abf4c53805e17d682c99d6a47a886e385e049250325ccd78d778d19e042672370b06569437d64cb358db8b4467aeee28b11944eaf85bd49a9ff8847f107f6f0aa77852c514ed6b43e6a557b596564a62aceb65617b39fc91cc3fd19d7137286a5328c1aca7033ddee8906170bf8d58270b375285a00f187afee934dae7528edf6bcc68f91decd67f8aca7dcaf
    0109acde071954c0c1ae297d3c9f401c4fdcee6c2849d1c261ac5661c7a76e785d3d00000000000002a3514edebb47bf86df459e702d26ac5474b68c542fe0fe5846c6b8ca17ee7e50e90e7f8d4b3d550f642b5025eb42fef20b443e42972bc49f68be1551987da8ddd30c54c1002a4af25bceb365e5fb804ab619e351cc402b49f3fda198ec9371bf4587cb6f33e439573e23684a4379edd1f4e1404a650321e568aea0b9d2afa2ea91e02e749042e7e433c06d847e9ba93452ef6421b9a3afcfe147f3f7e307674db1e8bd536b816cd29ddd0ab498832c4f4c9e60d90dc15d86605aa1204febc54efee19c48b5397922f9cd63e61bcd2290fb9ddf8c06b8ed4b3fe99bf84f5a940e5f0ede760d295de88930abbef42db0c3aa492219f71345ac8d752c802bdf0975ecd3c7481f00d38d59c5f95f0ec417eaa7a658f8a12a5ace7d873e10a31d7d3455273081171c33ad28eaad097ddc439748346a231b4ed74622b927922f005b886c6e8bae1ebe71c3fc93f67a77f18c99e28a26d04c937d6e900f4387d841a2214bdfef010a0b7b19bb52169ccd5908f717fddb32ba88ad421ce2e8a342b30996da13f3b617466880b99d65d61c6b1e9ef08abc7dcf7607be712bdfd49cc66b5a8f34cdb457371167e9274d320beb9f810b02852b6d35d4b3b3dd02d1e5dc9bea96fb68112fafc25ec97336238ea8f63d7dae89d3bfb0c813295bcf8877061fa70482b026b2ae90526a42b1e351bbe8600ed878c49377730711fd236e9ab15e87c5554ac008a8005a9e6373ca894a76d5c3c16ef4a5a93ad6067acc3904c3e623e6c363ce8235af015a4928fad680d966b4086cc3fc9def34e53a55918a1baa3624982cee47a0f5218a2caeea452c325d96b46f146352e6e42c2738905f151fd838429536cfc8f600600558a736e5d6b284845d3bc1d92213e192061cbe0ae9c288f2d823032dbd86b60542bcdd1bf5817b859024e089efdfdf7c30dd70aef87feb3551ff
    000991c829917c7bdb965677f3103b5ddd2b697e1b8479d683186e58db7fad02a45d00000000000002a3dae4be778720888039898879bccd1886bfa013829e8746082ffd1d3abfb1265bc1ebe594c423e0f0e108488b9dc56c67301dc28284f0fa89508e0f988df88e05080e277b39c78e2403c5bad8ced36bf4cdbed94cf65af451e7d294d36e545bd02be207c34d4c2dcc3c29220e916a4f477aacf4404a2bd66fed031496e15120c27ed0c0fcabb459af32f5e3506f336d3bcb8a791bb7b84db20a860c73a7a8345e5b89060efff48c2d2516c4517fdc3af0aea8052dba53dcafdd451917f643e65bb90f81ef22065c0f82d9fb799ccf15f43816ae4f444c17fe32aa71c37ed978b702565bf7697dfefc36d6787bd8c36534e1a1fcf844900fdb5a684c4178fd7c69dd06df7457758f43168b7e7b6954b1a9194012cdb0a5fec5954ff0dc9af9c9175bbf91bf1e2bc61e8d57d4ef90fed4a31a7fbcb8af26ec185d821c20cc1c551f6338d90008cf4afcb505f8b1447dfb67bb832f10a707c37d2ea1d157970d6bec4bb803da4b2827bdb52bc557a0e04e8c432d433c89df48dc96f1e9e2b9a2531f886a6702de95e12f729912d5d81293b45c7d8c3dac66205536e890dbaafc029fb691c22c9024938ee11df095db4fe6974e53776d769be880d506cb0b6d41d8133454d4d55b04d688ecd3f33813253811222de0f035f01bae5f2cb7bc436df5470e4c4b03abbf2ba49cb14a5eddcffb33d4556cfe7636dee7d74db88f4d72e3bf4aa5fe0afcb397487a2c25f6e898aa4d9a9e7a9a5172e6f2b265d633b2a8c437e105d7ee1c85674f01657500366e220f446d413576f3d7f452a6673af7927632e043b90cd3e30be3f0ba712d7183d8837247090df2b2b5827dc6f7d697710ae29f19c9bf24a535841d5872f15f07b40389fe78551a578540507532074e2b98bb6b9e9aa609a36c255e0c96a52a11a540f4c59fe21ac4df1571709416c483e0e98e7346
        4 kernels: one per line. equal length 233-5=228 /2=114 bytes
            1 byte for feature, 8 bytes for fee, 8 bytes for lock height, 33 bytes for commitment, 114-1-8-8-33= 64 bytes for sig
    0000000000006acfc000000000000000000807486417657d0716caa5f129a63aa760a37dce912ef3859b8154381fcdbb52d20834e2133c5bbc515aebc890f85361e313d13f42c05582fe6bbf927b5fe61536b797de27b4fa533a15e73d4ed4140030ae8c305e4a05b4db60545dc453ec9064
    010000000000000000000000000000000009f314c2bb07f864ae70ee69868f81c35f682222aaac372dade483f9c6abe0e9bcfee97e4b0bc531259a8bc27ef4749d162afb2e1e6d8cb2d876af4ce93c34963cb71d70b026a8a1359985c5e98fe6f625d53af36590fcd4f5964a39d3a993ee45
    000000000000b71b000000000000000000092616f3f923351cb1115eb2ae59a984a25e93184df23adfd7093182b072571b12cf7cfaffd5aaddaf7a2f4c4ee7993bcfc7dd355e0379e1e511cf3cf49a0d2844e61dcf065697432698a1d03998369148888591bf13bc2f3190543bfa734031b5
    0000000000006acfc000000000000000000888a0c76791da6f2da9a72d1397a6b3f804f00639967e6d09715d7a351188c8408a9a325a9e40ebe7eba7464629bba3ca6d5bfa82c4d88bc7d4bb070abbff9b7189d3d24ce2f0b88604536bfb502e968fbee5f7de6482eb2a0144d5985319f130
    
     */
/* the genesis block I requested? Yes!
    TODO: consistent with https://github.com/mimblewimble/grin/blob/master/core/src/genesis.rs?
0001                version?
    0000000000000000    height=0, so this is the genesis block
                    000000005C3E03D6    it is a long, timestamp Utc.ymd(2019, 1, 15).and_hms(16, 1, 26),
0000000000000000000000000000000000000000000000000000000000000000    prev blk hash it is 0 for genesis
0000000000000000002A8BC32F43277FE9C063B9C99EA252B483941DCD06E217    prev root. consistent with the code. what does this mean?
FA7566D275006C6C467876758F2BC87E4CEBD2020AE9CF9F294C6217828D6872    output root
1B7FFF259AEE3EDFB5867C4775E4E1717826B843CDA6685E5140442ECE7BFC2E    range proof root
E8BB096A73CBE6E099968965F5342FC1702EE2802802902286DCF0F279E326BF    kernel root
0000000000000000000000000000000000000000000000000000000000000000    total_kernel_offset
                                    0000000000000001                output_mmr_size
                                                    0000000000000001    kernel_mmr_size 
    0000000400000000            total_difficulty
                    00000740    secondary_scaling
                            0000000000000029    nonce
                                            1D
                                              1B0243A0E60E4600721B09FCFF27E171E339DE0AB14852AA1641EB7F342ABF6528088B15D93B9923465E789431429698932A53B14D6DDADCA9551C2C938BB8B0B121090F37BAF582476C7303372F20617DE54B04F8688A2CAC85F19957463AE9C0CCC1988BCA7FF9534FC990EC410FB0EDE29EB9DDF10638BA000EFBE123621F8DDEDC7480A597FD297E14C5C6E73668F95F524A3F415FF303
                                0000000000000000                    #input 0
                                                0000000000000001    #output 5
0000000000000001                                                    #kernel 1
                since no input, the following line is the ouput
                0108B7E57C448DB5EF25AA119DDE2312C64D7FF1B890C416C6DDA5EC73CBFED2EDEA00000000000002A39330AD8CDE205F317C6537ECA96B866293A0489615A9A277B4D3A597C873544C82474932B641E06AC8719604EE52E895E8CD4621B6BFB85780CD9BECCE14D0700B83A664DB2F52A26C425FD777AD88944CDFFF38043A2793ED4D9AA67E36CBFD5585579FC69DDA930418AF5EAF603654F6F751258D2DFC8C2113C171E130F31EC1E6CCE2A718E435298FCE5D64FFE1BD3464FD7C87CFA92093855BE034BFE4439E928BD92AD77FD0A0E00355EE1D1A9CEB1ED0C408DCFDBA8C583E7598DC700AAA9F91432097259A405F5B7315A2F7658861E3349BB0DC8BF883726A215F0149DED6613E5AC0670C0C5202247D7C27C8A7D03BDB03C9CF5455463F9B42CF87403E31F8383CC4F49A34C62AE459F5801A9EED4F0EE3DFD5F55B7011C0CAE393C474ABD6F8C7965B9B5FFF3104DD4E39542077C0C8DD2F8FFCEB6BB598512D90506D0A7184F20F1498CF458787F23284B54888C9BE416D103F760406357A16B6D841A303D5C95B6B474D2D7F0FEA0A2A76C897DD2110E9303F54684169421147684C6F1819C33CEF3F38EC995A508450C02CD1872F8065FDEE723109C18B1DD2DDDE75825546ECF0DF0793C353B20C946CD64122CEA8C116F432336899A16AD24A2AAFCB8F900E09A1147135FCF2A54CBF81DB308A47A08A49C77C130E5DC5E661CD55A5CC69E607055A5B08111BF61A62EA5778F85119043633F1CAB8C756D756C5A34851024AC311A596B1CD919BBCA43226F0BA057F6B57DE2F6955B0823C3826DE7F6096C1C1B6B9B8E4063E1645C0BFF32F80561AAA959D97120FBC2ECD9D2BE28BD0C17811DC59A88049F6D8952EE9A0A0207693C89CA3AD1197E9BFDFC03BE9D845AEA8D663969217E3B494CEE9E652BC9F8713E2FD5CB1843848F46C3A6AB024D0E3D57CA45454CDBDA414ADAA835FA147DEB4FFB7129CF3A8D86726A0144794
                            the next line 114 bytes is the kernel.
                                          0100000000000000000000000000000000096385D86C5CFDA718AA0B7295BE0ADF7E5AC051EDFE130593A2A257F09F78A3B150D029AB1CE0FA793CC0D5E86FC76F69121636A56B21BA71BA640C2A486A2A1443FDBCB2E4F615A8FD1216B3293FFADA50844B43F40B6C1BBCFBD4A6E96775ED
    */    
    void read(ByteBuffer bb) {
        header.parse(bb);
//TODO: block body        
        int pos = bb.position();
        System.out.println("block body is not read yet, pos:" + pos + " " + Integer.toHexString(pos));
        //411-258=
        body.read(bb);
    }
    Tx.TransactionBody body = new Tx.TransactionBody();

    void writeCompact(ByteBuffer bb) {
        throw new UnsupportedOperationException("Not supported yet."); //To change body of generated methods, choose Tools | Templates.
    }

    /**
     *
     *
     * @param al
     * @param partial if true, then this is partial. this method will be called
     * with more
     */
    void onTxHashSetArchive(ArrayList<byte[]> al, boolean partial) {
        try {
            throw new UnsupportedOperationException("Not supported yet."); //To change body of generated methods, choose Tools | Templates.
        } catch (Throwable t) {
            t.printStackTrace();
        }
    }

    static class BlockHeader {

        /**
         * p2p doc(https://github.com/mimblewimble/docs/wiki/P2P-Protocol) says
         * 405 bytes.
         *
         * header doc(https://github.com/mimblewimble/docs/wiki/Block-Header)
         * says 400/410 bytes.
         *
         */
        int version; //version of block, not of protocol.
        long height;
        long timestamp;
        byte[] prev_hash = new byte[32], prev_root = new byte[32], output_root = new byte[32], range_proof_root = new byte[32], kernel_root = new byte[32], total_kernel_offset = new byte[32];
        long output_mmr_size, kernel_mmr_size;
        //byte[] pow;
        long total_difficulty;
        int secondary_scaling;
        long nonce;
        /**
         * cuckoo_size: 1 byte, for c29: 42*29bits=153 bytes, for c31:
         * 42*31bits=163 bytes
         *
         * for p2p message, it is 42*8bytes=336 bytes.
         */
//        byte[] proof; 
        short cuckoo_size;
        byte[] cuckoo_solution;

        void parse(ByteBuffer bbw) {
            version = bbw.getShort();
            if (version != 2) { //this is block version, not protocol version.
                throw new IllegalStateException(":" + version + " " + Integer.toHexString(version));
            }
            height = bbw.getLong();
            timestamp = bbw.getLong();
            bbw.get(prev_hash);
            bbw.get(prev_root);
            bbw.get(output_root);
            bbw.get(range_proof_root);
            bbw.get(kernel_root);
            bbw.get(total_kernel_offset);
            this.output_mmr_size = bbw.getLong();
            this.kernel_mmr_size = bbw.getLong();
            this.total_difficulty = bbw.getLong();
            this.secondary_scaling = bbw.getInt();
            this.nonce = bbw.getLong();
            cuckoo_size = bbw.get();
            System.out.println("cuckoo_size:" + this.cuckoo_size+" pos:"+bbw.position());
            int len;
            if (cuckoo_size == 29) {
                len = 153;
            } else if (cuckoo_size == 31) {
                len = 163;
            } else {
                throw new IllegalStateException("cuckoo_size:" + cuckoo_size);
            }
            cuckoo_solution = new byte[len];
            bbw.get(cuckoo_solution);
        }

        ByteBuffer write(ByteBuffer bbw) {
            bbw.putShort((short) version);
            bbw.putLong(height);
            bbw.putLong(timestamp);
            bbw.put(prev_hash);
            bbw.put(prev_root);
            bbw.put(output_root);
            bbw.put(range_proof_root);
            bbw.put(kernel_root);
            bbw.put(total_kernel_offset);
            bbw.putLong(output_mmr_size);
            bbw.putLong(kernel_mmr_size);
            //TODO: the documents says 178 bytes. why?
            // cuckoo 29 it is 174 bytes, cuckoo 31 it is 184 bytees.
            bbw.putLong(total_difficulty); //8
            bbw.putInt(secondary_scaling); //8+4=12
            bbw.putLong(nonce); //12+8=20
            bbw.put((byte) cuckoo_size); //20+1=21
            bbw.put(cuckoo_solution); //21+153/163=174/184
//            byte[] useless= new byte[157]; //21+ 157= 178
//            bbw.put(useless);
            return bbw;
        }

        StringBuilder dump(StringBuilder sb) {
            sb.append("version:" + version + " " + Integer.toHexString(version) + "\n");
            sb.append("height:" + height + " " + Long.toHexString(height) + "\n");
            sb.append("timestamp:" + timestamp + " " + Long.toHexString(timestamp) + "\n");
            sb.append("output_mmr_size:" + output_mmr_size + " " + Long.toHexString(this.output_mmr_size) + "\n");
            sb.append("kernel_mmr_size:" + kernel_mmr_size + " " + Long.toHexString(this.kernel_mmr_size) + "\n");

            sb.append("total_difficulty:" + total_difficulty + " " + Long.toHexString(this.total_difficulty) + "\n");
            sb.append("secondary_scaling:" + secondary_scaling + " " + Long.toHexString(this.secondary_scaling) + "\n");
            sb.append("nonce:" + nonce + " " + Long.toHexString(this.nonce) + "\n");
            sb.append("cuckoo_size:" + cuckoo_size + " " + Integer.toHexString(this.cuckoo_size) + "\n");
            return sb;
        }

    }

    public static void main(String[] args) {
        try {
            //testHeaderParsing();

            testBlockParsing();
        } catch (Throwable t) {
            t.printStackTrace();
        }

    }

    static void testBlockParsing() {
        String sBlock1968 = "0001000000000000074d000000005c3ff10700001915c97bfad5bf9bb30a1035771446770502a937bd16a8c8a8f1fc6db7302eb356e36c03f16796dd4a6eef8cbcbeabaade84eecf013516367b376d646db7b56ccc990181d04d57585d3f0163b4f636fe3208a024596d14221bfa7739e693a341b87862f430f9dda5fd0b88be175b6cc81b5e84bf6882d98cc31750b5001ab3e9708378ef256d479c6b166ba0a56c26d1b2e985c5e48065dbaa8a1fa6e6060755f37fa67bc3d3f0a7eddec7117013be42afff3602e7480d7271fff92763f10000000000001445000000000000113000000108e24af3bb00000473712493895227b8831d43c8d2e098ba28f4f3748aab7d8be1aab3353259e6c6d4c046293f1c2f92afe7c5868bc5007fc51bae789ab3776d7efefb71547144b70ae8e764921bad8cb821a0c5d2adb455e1c406e1b2e39a2db51d7c552e4c1dd78bde1eea91f0843da6b3f1cb86e4ccb93371452b66c0ab292cd42525bcbf832fe358a3b22bcf7615e8397516ad8135a709213a77347cf4de104df5585984df0246fa03";
        //the following line is not of 1968
        String sBlock279245 = "613d0b0000000000001a82000200000000000442cd000000005d3eb04a00000871b41035f2f4074256ffe39e1d35963fc9281f70d90ede623efe2a8afb4146344ec07cdb1692f459343f369b718f30fc252824f1f5e013b599bcf5d535bea6352c978e79ba6a9dd4b6dc513ffb336d0af2f25666f8342150c77bb4e161e55abff09b7f093b73305b4d5fe7b33c12b43b9de684ba40dbfd96f3c61aca4901b67f102f14fc456eb64412972625a042da2a8a30e71e4dbb7cca16ad1f91c8d6564be49bcfa77d5dd6a57dc1e1fdfcc9af329600bb2c668887adf1425b78d9000000000031308c000000000019c7a90002e50ddf9d91050000029bd90d0c21dc03ba731dd47880a03f751bf4763d8656026221e4023e421bfa8827b52909e824264022204518cda558ff6617cb4538d36b6b72ca1d778e08f2484abbb466e19728aeaa75c71d87203947cd6c476c2cf0cedc6fa0911ca02c82489b0bef36f4051b89024d09d24555e41a4de35f9582072c3f9ad175ae2bbc0a7d1e786de91fdbc5266407b6f4fc958aa62de53735a00eb3be3324ebdbbcd6dd4889eb03000000000000000500000000000000080000000000000004010908a0755b27d0a7456c8dbd17ddd90a7e8ff6afedac083c87cac0de477fa5fcfd0108b7f6e072a6a3bb5aac6061fc4e1d369f3a4ea1542701e50f43fc41f8563b9dbe010800b19c0d1522b962e3f00851cff839b07fa5c61df421a56356e7a55774842a8001091132569a4897d1906528fb808e71a2996c9374eb4f8f4af7d261f11ea1bcd697000903ad24b2ee3f50fff4ecd0d3a0880f2cb7945804ab56fcffc23f920c6898177e000899d190f0aa277a46cfdfd1ad2f94953eb0c5ff46f9548c518194707830ad52af00000000000002a37747bd3119732153f90ea0eba962eef7fcc84992bda139f862a81f30fb238b86c79d0b844042c134887e9a08199d6873f1ed0b7de64d38ba783b40c096d514570cc3325cda41573e0e68aef5139bb9452a83cb0cd27412eebdfa4d9ead592e152698e7f6bdaf7a7ddb223205ec67b78018531b36b3a1b57cd97bb24ed8a9295df22dbf2ab91127410b2e631f38b815d2c31418f7bcbc7e77d4353a75d61364e0402a99cbdde38d8e97e9140807c4725494baef922ad92ebd48b88646b00ef303f0d02625dd9c4fd20aa16186b06c04cec13492f11889ee326227ee896e0082d84c1a113195cc3a6434d95d941cbc058fcabb18476ad57db968892be37beacd1aeea12a28882f81f6a2aa4e0ecc0eee1a6caad539171fe1d16fcda3d15c8a18a02b5b84b8dcf23ce57acdca6548ab953e1dc56bd7595f1cda9518bd01895f74b96ab1d90c273d1adda7a719771194d3b990b29d691d1ff1a19f9f8f5f1b6e5a0f405900a2bcabfea9950ed6f61f651451c3ba48f7c1ff8eaf18162b897c84d386d908e5e78beb4bac5ee5ff744689ea9c1d480df549a398434802f01b6380276b93e0cd296b37e3e9be7434c84ab5a18027b9de14ae172f29a730b868435a34ae9f9e82a60da0172572c6f6c20ac0322ea3c2f7f0a29cf0dc680ab0efc5cc298f5566c501d87661f9079d4d60ec9fe32393e41a6e0ed5d81a44aaa1f06302c409dc2c69b4897dc1d9550645a284e032dd5ed10e728ba87018e2a0008fa06e319543e6daf6cfb16af4199d5243241d23fb3b684624a2523493c580697eb6bdc1c663cd5ede6d0c8b81b767e9c65b39be76d619c705b37422d6056b40b5edc7cee8837cf308a8a5fffcd04257179c90bb9838211978c4ed1a10f444906d14ee8a38ba4b737d0646498ac58a822266ee8b0727098be69577d4690e05f79d5287e1372cfc21000963513a9af4310b5bca44f745a6ff7013c2b19ca48c601a7f0e69a8e70f2711fb00000000000002a36cb3e4cc26956c51e0b5777c320d00b72dce8d8ea6f4c83398bfd30e9b3de803c3185f796094a4f57fc1799207a915922a7f42f8b95aa423eb9847c695b13c5b0df3316acf7c59777996dbfb4b0f95dcd839e5011e3dfab43d3ea49f1107b3cfb02a04eaff16334b4aa127e0d3ef5b03a4ac7d0940c3a386d8ff0455c1baa5abb68076b457aa7afbbeaa56f30a7248815411b5e28220220b5fa377b6546142cc02d92b28a8bd917049f172388f602684935dbe75e6356732d70be909c7108fcc3ad6b300b88b51a020b4dfb2f95018f10ffad6067025433a1305204fa0124b29c82401240ad134cd4d97454aa33c7785774d237447b3f3d8af1fa5dfca45361cb0da25c9ad45a5070c980671ac4c7d887166e047564d10c01cc3f8c9c43861fb1ffa5de99954608bac1d3d885febecbfc1dfffcf035548c9cff02f8e748b43e5f3bd49ca18d27acb1f64990a2c06e043506345ed14cef0e58e0ca0b692a6126aa6f2032bc92e7eb689fac279d5e243b9227dfeeab20b6c531c3fb1c5a3fa88cd2725ab99b95730701f7464b75d88b5e53bf732203d5dc7aeca729c499b535afa87ff023fdef7e8f851143aae86a8a39881748268b0e403d0941ffdfb6df9f0cd500842d577298a0b0dbd9820790e01e048b2d4b357eb0a5d6b021e6d94c17ca3b1411f833eba48909bffa68a4a5586f359b6de166ae924d5ade1f3a4afd0c95afcd8d0a167f52cf83348a91b306f04c9dea67d9561ebf49d99c925749bf80e9dca4e33ac23c84dea4fa18a92ba4f71ac67333b2d729d47d6344cc62ce304aafe7052b61331fb100213399f1e670b875ea97bfa8f0f4eb4be67c72671f130c8c9dfd00c055b877ce7fb381c4f87f9753ce4d104d86f650b55bf0a479f9bbdc77fc84ecb8a7530031aa6fa4586ed7c5afe885e5e14a52509e9fcd5be745a3a16c43e954d00083a65285fce9d051c8c8160bce1baf541963ae510d4f6f07dff3716602be77c6500000000000002a376e7794d19105edcca8998fadeb3a314d297cc6eff9dd6e580ab4ed262e155b7ff2bb764bc2a3c854099d4bea399e67d5ee662b000a3b4f297168266c2379fdc047d2aec2b07ab0310f7013b8366355f34c028efc2f7595905740fbda52fc0be079ff54d014e82db7f0de8a99f276e583d94b6edbb6d76a1fd14f2efa3a55c8eee53529b71773f8f856fbe750d0294f969e3caba32222121513ac4c3f22e14288890734ca29a4b5ba79d4e381d5e3195f32def02f67205404bdda15902680159e60dce697aa4c34f83e239fcb63f8efa3a814b4c322cd4692a42306c36c3d6858b1bcab6abf81a49abb69d6f046cf58d4fb544becbf0146987bf6214f5c566c80926d1dd24db0b4cdc7dc3b4ebe99449048c3e440b560d06b3572a5444fa2411d44a917be87e90cf6a863ddf28f9cbf7cf02f4fe4f95442c4cf46d23dcf3528e618a7d805e16fe3ce7331e6b8592be71cea174fc427465e5927d3e98be0512f8b57a01a74c8f530783761fccfd0d7a8cfd8b2514168bfcb41c08a6002bc4442cba9225291280d545b55104c05ff768f6e190025176d6817d7277edcf1ebbfb6df4c14cd61a1c78a4f89c23ba1d9dbcaf26d01f54a6cdaaddd0b5e2061a4d2aa3788f2fe7321eae194bdd177dbf6883f513fa3631e14ca9be17075fbe36cccdfa5800dd9ff5e6c37f9f8cf8cce32503cb27c8c54f6231854949c96795d8ef46c661dcfb0d03996e6e5eb90ce01e2bee9da8d102a351420092db0af943512689741f647878600c4e96ec3e26d6118cdc56d52d16b377ba8a025f142f1ab0dd212f0f2f6c2b4e0327b2f5870801918d5704b04504f2595f398aea3ce1b6f1c1b9dd9115a8f5565c20878dcff284f33421f23f370ef375d58ebab7f2fbc762e7e83441de780042542cc90646d9c8ab3d4ddfa75ee6d2d56121017975845166a0761c9f6323000810bceb520f1d3e85ce3d4e28c74b9cb431556be8df842ba7dfe7624c4123473700000000000002a3edb89f02fbb7acdd1eda23db29a43fd7e4f0ab70b5366e4c83ec307a5d30d66ffaa480cbad2d784cc88edfbfe6160708f1afdd1379c1546e92ca451766495da405aff6684c46a939c263adeb2a0079f6ae12d76576cffefc960f017b23ad399ac2ae8ba8151bc9bfe9c1aadc080dde54f48b335ef0ce5ba677852afb0786e9c2534f0ee2e60c1258afba7a13b04ef74e41adfc722e62bffdba996ebfaeccbce54d93faa04f5095c8255fc507d962876b3f098e1dec4410305262202e25ff4e419cc7f21e8ace0caee3dea3a95357a7968f8bdea129d9b84d0288fd60d1983303404bb74305717e1903f7fd1a1b05c412f11b547d26e4adae6a58db9fe268241d67228d6881e13560c538bab49ffa4b0b99d5d4620b45cf391e3a981c701e31de0e4b7b5d13d3bbe191e5f0230b7d29ddc65a8bd03dbfbffc1479aa00249ac615ac3fa249417aef95f37b28b44c35444215383fe20a0e241a9245977f452e6d5d7dd6033970a3382d90956c7de81a8973b7fd32857d743c0931125025d85c779e8f74d33690ea4f01e562c4c908d118ec3cea77ab19d259df4b3ef87bcedf9bdef7c06b6d29d4a2635c1bde75029ee00fd16d4c97a2d28c0ff4786a03da8b5336b745f2d9f20029f105590e20d084e4f7dd9008b0c674573172ba40eff43100d7e643d42a1de800b18f6ed21f3ca97ec6b7dff7bab8970e12e959ff3cc8e4fa6ac8bdbaa54b89c57888057f6285545171e3b33a525a774b77d5b4944aee1dd011d8475d257bae15fe550cb0e1d0158fca956ccfbb0dd9d8e2db597c5e6c5f3e7b13353de1ab0be42c24d0cfa170a81466d5cb0e1c59b5c482ea8788360ccc4bf0f788e3010507fb50bb9cae8b310d50fb4adb7dfac2cc73570a1f5f1cfb99c0037e40050f96c305e4f7e1d67517f057dfc654b3889744aad6e2f493e0d6dd8a10a789130008f62e5dc1290a7b1161ae77bc388e23b93f0e406b36dec6eba4c0c4cb3ff91c1200000000000002a35e21a9763bdbf9d67cd0f4df500bd9c85b233e6e885306294c26d8a84a1cb5542ea94c53df2ea28ac7fb2ca2d9dc211ae247400422b94439c3f4064e7b7710540834005c7f79cc59c876b8617c5f224f3cb667c24f87f95ea1fda42b8b684bf50358531cd2f674493f1538f531da9e0d655fb877e8359fbef1e59c31307b4e0fa52845ed4f34fb4c8138151d257796c11371282399386acc4af4e9dafa640a955e274a10d3f7f8af25152b6410e541db60861ca84a08d968946d7445ba9aaa6b5982d22978cbf26347a2e79ef9c1fd309fda772f548f22eb77bde7a0bd7e0f876d122e294df1190b0458066a6061246a9c9db337f94160d35ee48e737aa5f8c7c7ddfe90ad2ac4b61689fd14ba42f92feb71f720b3031e6f022370bfdefb5e187e724fdb0a4d4b8325b776cdc2870060b562ded0c2a706b1851fb009fcd1e1e2669e1e507602a1992b204a2e7d98e42fcf28a6259cca0f25e06172b7a971a6c0a5d4005cf6fdda1dc2bef1edb176cb6a2614c39052f88d143c2cb4c2552f6b2aeeb1d2ccbe22a61a1c3e3cd2559114da6efaec1ec1180aa5e76e3daa12bfe30aba119709d9ea451106479c59ffa29e2b4333cc0081d763b2ebe45d027e92ec454eaca1d2f0d3188c502535a1e037c81d73b94f541f878ac2fc78a82c5693ce0443f2205777f29eee34bf469989f0426c5ca222c3ed31808f97d6f9bb3d54654c2f4b96f69a4eaf5c2a63b9eee6654ab469c29fccfb193ae9d959c0372f9ad0eb018e8640737fa347faca9fb8912a522d3bd4eb7251fe46a0a31c098b38c00577b481a601e1af818708a3b806975e920647faaaf63db60d265a333f596d7f7580ec74666107b3a030bcf96c6e25675d11c7a29618ecb641db73d4730de5061be175089e2eff7679d0d42e4c66311011542dcfdba177a0c3756befb285f8a40b11808f1b00082b7f0b3cc9c7ae2bc13f148b56f055eab65ad1e77b3a92a86ce044dbacc3dadb00000000000002a34d853c89b065d7a9521ea3f6f7ee6df8ee8f80907c497923feb79ce470eaa0ddf395b198b9f813331ae17b63c6b5f4bbf2e77e4926feb32e5baec919a4c0f9c100139d668038d564030804f1d78e33a6919be0a5f17909f3f9ce4dd670008f1ef1f03c5752c90f2ca351d0158e8dc99ebfd99ff5636a5b5bc8a7e8a4d8d01bf173a9005812c73d9c6d1e1acdc04b93b01d818d459e82a218241d89a63705d0f31db87a55a044ad7990aee972aa30d73d65b09cefe1c7244cc11d4c90317d9b0843aeeffe61337daaff8a951eac7bdebb057f1ee2edcc666603a2471df1ef99de416a8a05d7be373a9dce8f5275e0dcfdc4a29c010cbcbe14ce70c19c431ab70e849ec7d8d6e981364c3a85ec03584fb6b53fbd99967e9aa7a653945d5c6e80d3f64aa01a309f0cdfe20478f9312af883db906451979bcf60a088d12878df974233a3a4ecc1340a694d96f8ac4bf48a78a63d3bac91be0ce82ada0926ea1deec30cfe021cb88ff54e94d80dea6c78c6d93244aacd06a7e379d7cd7834c6e7c9931a7f8a114a9dd11c011a3466133affae8528a873eb06cbb2f40ec4afba9614af355ff0354e27db08855f7579396ca967f05a199fdd9f166ae0e4418c05ba9a8eb3916252636e0a94c6535dc11df8de7eef49a42123005999a0625587286c34330e7016110e9456fd7aa6648acfa20cbb1979094ccdac503c9e6e843a55efd358827c67e48fe6863dea077b73d2c4bb9d3ee4949c59ea0abf4c53805e17d682c99d6a47a886e385e049250325ccd78d778d19e042672370b06569437d64cb358db8b4467aeee28b11944eaf85bd49a9ff8847f107f6f0aa77852c514ed6b43e6a557b596564a62aceb65617b39fc91cc3fd19d7137286a5328c1aca7033ddee8906170bf8d58270b375285a00f187afee934dae7528edf6bcc68f91decd67f8aca7dcaf0109acde071954c0c1ae297d3c9f401c4fdcee6c2849d1c261ac5661c7a76e785d3d00000000000002a3514edebb47bf86df459e702d26ac5474b68c542fe0fe5846c6b8ca17ee7e50e90e7f8d4b3d550f642b5025eb42fef20b443e42972bc49f68be1551987da8ddd30c54c1002a4af25bceb365e5fb804ab619e351cc402b49f3fda198ec9371bf4587cb6f33e439573e23684a4379edd1f4e1404a650321e568aea0b9d2afa2ea91e02e749042e7e433c06d847e9ba93452ef6421b9a3afcfe147f3f7e307674db1e8bd536b816cd29ddd0ab498832c4f4c9e60d90dc15d86605aa1204febc54efee19c48b5397922f9cd63e61bcd2290fb9ddf8c06b8ed4b3fe99bf84f5a940e5f0ede760d295de88930abbef42db0c3aa492219f71345ac8d752c802bdf0975ecd3c7481f00d38d59c5f95f0ec417eaa7a658f8a12a5ace7d873e10a31d7d3455273081171c33ad28eaad097ddc439748346a231b4ed74622b927922f005b886c6e8bae1ebe71c3fc93f67a77f18c99e28a26d04c937d6e900f4387d841a2214bdfef010a0b7b19bb52169ccd5908f717fddb32ba88ad421ce2e8a342b30996da13f3b617466880b99d65d61c6b1e9ef08abc7dcf7607be712bdfd49cc66b5a8f34cdb457371167e9274d320beb9f810b02852b6d35d4b3b3dd02d1e5dc9bea96fb68112fafc25ec97336238ea8f63d7dae89d3bfb0c813295bcf8877061fa70482b026b2ae90526a42b1e351bbe8600ed878c49377730711fd236e9ab15e87c5554ac008a8005a9e6373ca894a76d5c3c16ef4a5a93ad6067acc3904c3e623e6c363ce8235af015a4928fad680d966b4086cc3fc9def34e53a55918a1baa3624982cee47a0f5218a2caeea452c325d96b46f146352e6e42c2738905f151fd838429536cfc8f600600558a736e5d6b284845d3bc1d92213e192061cbe0ae9c288f2d823032dbd86b60542bcdd1bf5817b859024e089efdfdf7c30dd70aef87feb3551ff000991c829917c7bdb965677f3103b5ddd2b697e1b8479d683186e58db7fad02a45d00000000000002a3dae4be778720888039898879bccd1886bfa013829e8746082ffd1d3abfb1265bc1ebe594c423e0f0e108488b9dc56c67301dc28284f0fa89508e0f988df88e05080e277b39c78e2403c5bad8ced36bf4cdbed94cf65af451e7d294d36e545bd02be207c34d4c2dcc3c29220e916a4f477aacf4404a2bd66fed031496e15120c27ed0c0fcabb459af32f5e3506f336d3bcb8a791bb7b84db20a860c73a7a8345e5b89060efff48c2d2516c4517fdc3af0aea8052dba53dcafdd451917f643e65bb90f81ef22065c0f82d9fb799ccf15f43816ae4f444c17fe32aa71c37ed978b702565bf7697dfefc36d6787bd8c36534e1a1fcf844900fdb5a684c4178fd7c69dd06df7457758f43168b7e7b6954b1a9194012cdb0a5fec5954ff0dc9af9c9175bbf91bf1e2bc61e8d57d4ef90fed4a31a7fbcb8af26ec185d821c20cc1c551f6338d90008cf4afcb505f8b1447dfb67bb832f10a707c37d2ea1d157970d6bec4bb803da4b2827bdb52bc557a0e04e8c432d433c89df48dc96f1e9e2b9a2531f886a6702de95e12f729912d5d81293b45c7d8c3dac66205536e890dbaafc029fb691c22c9024938ee11df095db4fe6974e53776d769be880d506cb0b6d41d8133454d4d55b04d688ecd3f33813253811222de0f035f01bae5f2cb7bc436df5470e4c4b03abbf2ba49cb14a5eddcffb33d4556cfe7636dee7d74db88f4d72e3bf4aa5fe0afcb397487a2c25f6e898aa4d9a9e7a9a5172e6f2b265d633b2a8c437e105d7ee1c85674f01657500366e220f446d413576f3d7f452a6673af7927632e043b90cd3e30be3f0ba712d7183d8837247090df2b2b5827dc6f7d697710ae29f19c9bf24a535841d5872f15f07b40389fe78551a578540507532074e2b98bb6b9e9aa609a36c255e0c96a52a11a540f4c59fe21ac4df1571709416c483e0e98e73460000000000006acfc000000000000000000807486417657d0716caa5f129a63aa760a37dce912ef3859b8154381fcdbb52d20834e2133c5bbc515aebc890f85361e313d13f42c05582fe6bbf927b5fe61536b797de27b4fa533a15e73d4ed4140030ae8c305e4a05b4db60545dc453ec9064010000000000000000000000000000000009f314c2bb07f864ae70ee69868f81c35f682222aaac372dade483f9c6abe0e9bcfee97e4b0bc531259a8bc27ef4749d162afb2e1e6d8cb2d876af4ce93c34963cb71d70b026a8a1359985c5e98fe6f625d53af36590fcd4f5964a39d3a993ee45000000000000b71b000000000000000000092616f3f923351cb1115eb2ae59a984a25e93184df23adfd7093182b072571b12cf7cfaffd5aaddaf7a2f4c4ee7993bcfc7dd355e0379e1e511cf3cf49a0d2844e61dcf065697432698a1d03998369148888591bf13bc2f3190543bfa734031b50000000000006acfc000000000000000000888a0c76791da6f2da9a72d1397a6b3f804f00639967e6d09715d7a351188c8408a9a325a9e40ebe7eba7464629bba3ca6d5bfa82c4d88bc7d4bb070abbff9b7189d3d24ce2f0b88604536bfb502e968fbee5f7de6482eb2a0144d5985319f130";
        String sBlock = sBlock279245;
        byte[] abBlock = Hex.toByteArray(sBlock);
        int istart = 11;
        ByteBuffer bb = ByteBuffer.wrap(abBlock);//,istart,abBlock.length-istart);
        bb.position(istart);
        Block blk = new Block();
        blk.read(bb);
        System.out.println(bb.position() + "/" + bb.limit());
        StringBuilder sb = new StringBuilder();
        blk.header.dump(sb);
        System.out.println(sb.toString());

    }

    static void testHeaderParsing() {
        String sBlock1968 = "0001000000000000074d000000005c3ff10700001915c97bfad5bf9bb30a1035771446770502a937bd16a8c8a8f1fc6db7302eb356e36c03f16796dd4a6eef8cbcbeabaade84eecf013516367b376d646db7b56ccc990181d04d57585d3f0163b4f636fe3208a024596d14221bfa7739e693a341b87862f430f9dda5fd0b88be175b6cc81b5e84bf6882d98cc31750b5001ab3e9708378ef256d479c6b166ba0a56c26d1b2e985c5e48065dbaa8a1fa6e6060755f37fa67bc3d3f0a7eddec7117013be42afff3602e7480d7271fff92763f10000000000001445000000000000113000000108e24af3bb00000473712493895227b8831d43c8d2e098ba28f4f3748aab7d8be1aab3353259e6c6d4c046293f1c2f92afe7c5868bc5007fc51bae789ab3776d7efefb71547144b70ae8e764921bad8cb821a0c5d2adb455e1c406e1b2e39a2db51d7c552e4c1dd78bde1eea91f0843da6b3f1cb86e4ccb93371452b66c0ab292cd42525bcbf832fe358a3b22bcf7615e8397516ad8135a709213a77347cf4de104df5585984df0246fa03";
        byte[] abBlock1968 = Hex.toByteArray(sBlock1968);
        ByteBuffer bb = ByteBuffer.wrap(abBlock1968);
        Block blk = new Block();
        BlockHeader bh
                = //blk.
                new BlockHeader();
        bh.parse(bb);
        System.out.println(bb.position() + "/" + bb.limit());
        StringBuilder sb = new StringBuilder();
        bh.dump(sb);
        System.out.println(sb.toString());

    }
}
